
# Инструкция по сборке и запуску программ

Ниже приводится последовательность шагов для сборки программ под архитектуру **x86** и их запуска.

Введем следующие обозначения:

- **DIR_HDRS** - путь к директории с заголовочными файлами;
- **DIR_LIBS** - путь к директории с библиотеками;
- **LIB_NAME** - имя библиотеки без префикса *lib*;
- **SRCS** - множество файлов с исходным кодом (*.c);
- **EXE_NAME** - имя исполняемого файла.

## Стандартное расположение заголовочных файлов и библиотек

Команда для сборки программы:

```console
$ gcc SRCS -o EXE_NAME
```

Команда для запуска программы:

```console
$ ./EXE_NAME
```

## Нестандартное расположение заголовочных файлов и библиотек

### Сборка программы

1. С помощью опции **-I** задать путь к директории с заголовочными файлами.

2. С помощью опции **-L** задать путь к директории с библиотеками.

3. С помощью опции **-l** задать имя библиотеки без префикса *lib*.

4. Выполнить команду:

    ```console
    $ gcc [-IDIR_HDRS ...] [-LDIR_LIBS ...] SRCS [-lLIB_NAME ...] -o EXE_NAME
    ```

    Необходимо отметить, что после опций **-I**, **-L** и **-l**
    пробелы не ставятся.

Подробнее см. man-страницу [gcc(1)][1].

[1]: http://www.opennet.ru/man.shtml?topic=gcc&category=1&russian=2

### Запуск программы

Для запуска программы, собранной с нестандартным расположением библиотек
необходимо использовать переменную окружения **LD_LIBRARY_PATH**. В качестве
значения данной переменной необходимо указать список директорий, разделенных
символом двоеточия, в которых следует производить поиск файлов библиотек.
Стоит отметить, что поиск файлов библиотек будет сначала осуществляться в
указанных директориях и только потом в стандартных расположениях.

Команда для запуска программы:

```console
$ LD_LIBRARY_PATH=DIR_HDRS ./EXE_NAME
```

## Сборка библиотеки libubox

Вариант №1:

```console
$ git clone https://github.com/pavel-angtel/libubox.git
$ cd ./libubox
$ cmake . -DBUILD_EXAMPLE=OFF -DBUILD_LUA=OFF
$ make
$ make install
```

Для установки файлов библиотеки могут потребоваться привилегии.

После этого собрать программу с использованием стандартного расположения
заголовочных файлов и библиотек.

Вариант №2:

```console
$ git clone https://github.com/pavel-angtel/libubox.git
$ cd ./libubox
$ cmake . -DBUILD_EXAMPLE=OFF -DBUILD_LUA=OFF
$ make
```

После этого собрать программу с использованием нестандартного расположения
заголовочных файлов и библиотек.
